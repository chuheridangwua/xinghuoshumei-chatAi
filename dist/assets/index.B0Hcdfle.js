import{h as p,a as s,L as i,j as r,W as N,N as f,v as g,w as k,u as a,O as x,Q as J,R as M,S as d,o as m,c as y,m as u}from"./vendor.CamtBdHc.js";import{_ as D}from"./index.aq3X53NA.js";const C=p({name:"AXUseXChatStream",__name:"HelloWorld",setup(_){const l={ai:{placement:"start",avatar:{icon:s(i,null,null),style:{background:"#fde3cf"}}},local:{placement:"end",avatar:{icon:s(i,null,null),style:{background:"#87d068"}}}},t=r(""),n=r(!1),[h]=N({request:async({message:c},{onSuccess:I,onUpdate:e})=>{n.value=!0,d.post("http://192.168.79.122:8083/v1/chat-messages",{query:c,user:"ldq",response_mode:"streaming",inputs:{user_token:"bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJsb2dpblR5cGUiOiJsb2dpbiIsImxvZ2luSWQiOiI2NzAzMDY4Njk4MzA0ODUyNTMiLCJyblN0ciI6InJtdUhyeHdaTlFDZ2FkeUJrWE5QekxNNGwzbXBwclpkIiwidXNlcl9pZCI6IjY3MDMwNjg2OTgzMDQ4NTI1MyIsInVzZXJfbmFtZSI6ImxpdWRlcWkiLCJzaW5nbGVMb2dpbiI6MiwiZXhwIjoxNzQzNDU0ODE2Nzg5LCJ0b2tlbiI6ImxvZ2luX3Rva2VuXzY2MDUzOTA0Mjk4NDAwNSJ9.0bfDkDIkJjpp0zuIzJNzRKBBCdQD1hCphXOcpYzlMhI"}},{headers:{Authorization:"Bearer app-NnQlkYp2Wb9AQ05zvQPjGcWn"}}).then(o=>{n.value=!1,console.log(o)})}}),{onRequest:b,messages:v}=f({agent:h.value});return(c,I)=>(m(),g(a(x),{vertical:"",gap:"middle"},{default:k(()=>[s(a(J).List,{roles:l,style:{maxHeight:300},items:a(v).map(({id:e,message:o,status:z})=>({key:e,role:z==="local"?"local":"ai",content:o}))},null,8,["items"]),s(a(M),{loading:n.value,value:t.value,onChange:e=>t.value=e,onSubmit:e=>{a(b)(e),t.value=""}},null,8,["loading","value","onChange","onSubmit"])]),_:1}))}}),Q={class:"chatBox"},W=p({__name:"index",setup(_){function l(){d.post("http://192.168.79.122:8083/v1/chat-messages",{query:"帮我查询一下金钟这个客户的信息",user:"ldq",response_mode:"streaming",inputs:{}},{headers:{Authorization:"Bearer app-NnQlkYp2Wb9AQ05zvQPjGcWn"}})}return(t,n)=>(m(),y("div",null,[u("button",{class:"button",onClick:l},"Dify"),u("div",Q,[s(C)])]))}}),j=D(W,[["__scopeId","data-v-7cb9272f"]]);export{j as default};
//# sourceMappingURL=index.B0Hcdfle.js.map
