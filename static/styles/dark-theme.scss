/* 暗黑模式全局样式 */

/* 添加全局过渡效果 */
.t-chat,
.t-chat-item,
.t-chat__content,
.t-chat-content,
.t-chat-reasoning,
.t-chat-action {
    transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
}

/* 全局样式调整，确保与暗黑模式兼容 */
html,
body {
    transition: background-color 0.3s ease, color 0.3s ease;
}

:root[theme-mode="dark"] {

    /* 聊天容器 */
    .chat-container {
        // background-color: var(--td-bg-color-page) !important;
    }

    /* 清除历史按钮 */
    .clear-btn {
        color: var(--td-text-color-secondary) !important;

        &:hover {
            color: var(--td-brand-color) !important;
        }
    }

    /* 全局滚动条样式 */
    // ::-webkit-scrollbar {
    //     width: 6px;
    //     height: 6px;
    // }

    // ::-webkit-scrollbar-track {
    //     background: var(--td-bg-color-component);
    // }

    // ::-webkit-scrollbar-thumb {
    //     background: var(--td-component-stroke);
    //     border-radius: 3px;
    // }

    // ::-webkit-scrollbar-thumb:hover {
    //     background: var(--td-component-border);
    // }

    /* 确保弹出框样式 */
    .t-popup {
        // background-color: var(--td-bg-color-container) !important;
        color: var(--td-text-color-primary) !important;
        border-color: var(--td-component-border) !important;
    }

    /* 确保按钮样式 */
    .t-button {
        &.t-button--variant-text {
            color: var(--td-text-color-secondary) !important;

            &:hover {
                color: var(--td-brand-color) !important;
            }

            &:active {
                color: var(--td-brand-color-active) !important;
            }
        }
    }

    /* 聊天项容器样式 */
    .t-chat-item {
        background-color: transparent !important;
    }

    /* 聊天内容样式 */
    .t-chat__content {
        // background-color: var(--td-bg-color-container) !important;
        color: var(--td-text-color-primary) !important;
    }

    /* 聊天基础信息样式 */
    .t-chat__base {
        color: var(--td-text-color-primary) !important;
    }

    /* 用户名和时间样式 */
    .t-chat__name {
        color: var(--td-text-color-primary) !important;
    }

    .t-chat__time {
        color: var(--td-text-color-secondary) !important;
    }

    /* 头像样式 */
    // .t-chat__avatar {
    //     background-color: var(--td-bg-color-secondarycontainer) !important;
    // }

    /* 聊天内容组件样式 */
    .t-chat-content {
        color: var(--td-text-color-primary) !important;

        code {
            background-color: var(--td-bg-color-component) !important;
            color: var(--td-text-color-primary) !important;
        }

        pre {
            background-color: var(--td-bg-color-component) !important;

            .hljs {
                background-color: var(--td-bg-color-component) !important;
            }

            .t-chat__code-header {
                background-color: var(--td-bg-color-component) !important;
                color: var(--td-text-color-secondary) !important;

                .t-chat__language-txt {
                    color: var(--td-text-color-secondary) !important;
                }

                .t-chat__copy-btn {
                    color: var(--td-text-color-secondary) !important;

                    &:hover {
                        color: var(--td-brand-color) !important;
                    }
                }
            }
        }

        /* Markdown样式调整 */
        p,
        ul,
        ol,
        table,
        blockquote {
            color: var(--td-text-color-primary) !important;
        }

        a {
            color: var(--td-brand-color) !important;
        }

        table {
            border-color: var(--td-component-border) !important;

            th,
            td {
                border-color: var(--td-component-border) !important;
            }

            th {
                background-color: var(--td-bg-color-component) !important;
            }
        }

        blockquote {
            border-left-color: var(--td-component-border) !important;
            background-color: var(--td-bg-color-component) !important;
        }
    }

    /* 思考过程组件样式 */
    .t-chat-reasoning {
        // background-color: var(--td-bg-color-container) !important;
        border-color: var(--td-component-border) !important;

        .t-chat-content {
            color: var(--td-text-color-primary) !important;
        }

        .reasoning-header {
            color: var(--td-text-color-primary) !important;

            
            .t-icon {
                color: var(--td-brand-color) !important;
            }
        }


    }

    /* 聊天列表样式 */
    .t-chat__list {
        // background-color: var(--td-bg-color-page) !important;
    }

    /* 加载状态样式 */
    .t-chat-loading {
        color: var(--td-text-color-secondary) !important;
    }

    /* 操作按钮样式 */
    .t-chat-action {
        .t-button {
            color: var(--td-text-color-secondary) !important;

            &:hover {
                color: var(--td-brand-color) !important;
            }

            &.active {
                color: var(--td-brand-color) !important;
            }
        }
    }

    /* 代码高亮样式 */
    .hljs {
        display: block;
        overflow-x: auto;
        padding: 0.5em;
        color: #e6e6e6 !important;
        background: var(--td-bg-color-component) !important;
    }

    .hljs-comment,
    .hljs-quote {
        color: #9e9e9e !important;
    }

    .hljs-keyword,
    .hljs-selector-tag,
    .hljs-subst {
        color: #f47067 !important;
    }

    .hljs-number,
    .hljs-literal,
    .hljs-variable,
    .hljs-template-variable,
    .hljs-tag .hljs-attr {
        color: #6cb6ff !important;
    }

    .hljs-string,
    .hljs-doctag {
        color: #96d0ff !important;
    }

    .hljs-title,
    .hljs-section,
    .hljs-selector-id {
        color: #dcbdfb !important;
    }

    .hljs-title.function_ {
        color: #6cb6ff !important;
    }

    .hljs-subst {
        font-weight: normal;
    }

    .hljs-type,
    .hljs-class .hljs-title {
        color: #f69d50 !important;
    }

    .hljs-tag,
    .hljs-name,
    .hljs-attribute {
        color: #6cb6ff !important;
    }

    .hljs-regexp,
    .hljs-link {
        color: #8ddb8c !important;
    }

    .hljs-symbol,
    .hljs-bullet {
        color: #96d0ff !important;
    }

    .hljs-built_in,
    .hljs-builtin-name {
        color: #dcbdfb !important;
    }

    .hljs-meta {
        color: #96d0ff !important;
    }

    .hljs-deletion {
        background: #5e1a1d !important;
    }

    .hljs-addition {
        background: #1f3521 !important;
    }

    .hljs-emphasis {
        font-style: italic;
    }

    .hljs-strong {
        font-weight: bold;
    }
}